import{A,u as C,s as j,p as q,r as g,c as v,a as e,g as r,h as n,t as l,e as b,G as M,v as T,l as p,j as y,J as B,x as P,K as R,o as u,k as V,y as F}from"./index-DYW0LGQL.js";import{u as N}from"./mainStore-YijVIKTH.js";import{u as $}from"./lifelineStore-BqA3b92B.js";import{u as D}from"./transactionStore-C28jmiPS.js";import{l as Q,n as U,q as E,r as G,s as H,t as I,F as d}from"./index-BKP1bS1o.js";import"./quizStore-CgyaN_YS.js";const J={class:"flex flex-col min-h-screen bg-gray-100"},K={class:"ml-auto flex items-center"},Y={class:"bg-white p-4 mb-2 shadow-sm"},z={class:"flex justify-between items-center"},O={class:"text-xl font-bold"},W={class:"p-4"},X={class:"bg-white rounded-lg p-4 shadow-sm mb-3 flex items-center"},Z={class:"bg-blue-100 h-12 w-12 rounded-full flex items-center justify-center mr-3"},ee={class:"flex-1"},se={class:"mt-1.5 flex items-center"},te={class:"ml-3 text-xs text-green-600 font-medium"},le={class:"bg-white rounded-lg p-4 shadow-sm mb-3 flex items-center"},oe={class:"bg-purple-100 h-12 w-12 rounded-full flex items-center justify-center mr-3"},ie={class:"flex-1"},ne={class:"mt-1.5 flex items-center"},ae={class:"ml-3 text-xs text-green-600 font-medium"},re={class:"bg-white rounded-lg p-4 shadow-sm mb-5 flex items-center"},de={class:"bg-yellow-100 h-12 w-12 rounded-full flex items-center justify-center mr-3"},ue={class:"flex-1"},me={class:"mt-1.5 flex items-center"},fe={class:"ml-3 text-xs text-green-600 font-medium"},ce={class:"bg-white rounded-lg p-4 shadow-sm"},ve={class:"mb-4"},pe={class:"mb-4"},xe={key:0,class:"mb-4 p-3 bg-gray-100 rounded-lg"},ge={class:"flex justify-between text-sm mb-2"},be={class:"flex justify-between text-sm mb-2"},ye={key:1,class:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm"},Ce={__name:"MyLifeline",setup(we){Q.add(U,E,G,H,I);const x=V(),m=A();F("lifeline"),N();const w=C(),k=$();D();const{user:f}=j(w),c=q(()=>f.value.lifelines||0),h=async()=>{if(!o.value||i.value>0){const t=await k.purchaseLifeline(o.value,i.value);t.success?m.success(t.message):m.error(t.message)}else m.error("Please enter valid field!");o.value="",i.value=1},L=()=>{x.back()},_=t=>{x.push(`/${t}`)},o=g(""),i=g(1);return(t,s)=>{const S=R("router-link");return u(),v("div",J,[e("div",{onClick:s[0]||(s[0]=a=>L()),class:"bg-orange-500 text-white p-3 flex items-center"},[r(n(d),{icon:"arrow-left",class:"mr-2"}),s[4]||(s[4]=e("span",{class:"font-medium"},"My Lifelines",-1)),e("div",K,[r(n(d),{icon:"coins",class:"mr-1"}),e("span",null,"₹ "+l(n(f).funds),1)])]),e("div",Y,[e("div",z,[e("div",null,[s[5]||(s[5]=e("div",{class:"text-sm text-gray-600"},"Available Balance",-1)),e("div",O,"₹ "+l(n(f).funds),1)]),e("button",{onClick:s[1]||(s[1]=a=>_("funds")),class:"bg-orange-500 text-white px-4 py-1.5 rounded-lg text-sm font-medium"}," Add Funds ")])]),e("div",W,[s[23]||(s[23]=e("div",{class:"text-lg font-bold mb-4"},"Your Lifelines",-1)),e("div",X,[e("div",Z,[r(n(d),{icon:"divide",class:"text-blue-600 text-lg"})]),e("div",ee,[s[7]||(s[7]=e("div",{class:"font-medium"},"50:50 Lifeline",-1)),s[8]||(s[8]=e("div",{class:"text-sm text-gray-600"},"Removes two incorrect options",-1)),e("div",se,[s[6]||(s[6]=e("span",{class:"text-xs bg-gray-200 text-gray-700 px-2 py-0.5 rounded"}," ₹ "+l(29)+" each ",-1)),e("span",te," Available: "+l(c.value[0].quantity),1)])])]),e("div",le,[e("div",oe,[r(n(d),{icon:"forward-step",class:"text-purple-600 text-lg"})]),e("div",ie,[s[10]||(s[10]=e("div",{class:"font-medium"},"Skip Lifeline",-1)),s[11]||(s[11]=e("div",{class:"text-sm text-gray-600"},"Skip the current question without penalty",-1)),e("div",ne,[s[9]||(s[9]=e("span",{class:"text-xs bg-gray-200 text-gray-700 px-2 py-0.5 rounded"}," ₹ 49 each ",-1)),e("span",ae," Available: "+l(c.value[1].quantity),1)])])]),e("div",re,[e("div",de,[r(n(d),{icon:"clock",class:"text-yellow-600 text-lg"})]),e("div",ue,[s[13]||(s[13]=e("div",{class:"font-medium"},"Revive Lifeline",-1)),s[14]||(s[14]=e("div",{class:"text-sm text-gray-600"},"Add 30 seconds to your question timer",-1)),e("div",me,[s[12]||(s[12]=e("span",{class:"text-xs bg-gray-200 text-gray-700 px-2 py-0.5 rounded"}," ₹ 99 each ",-1)),e("span",fe," Available: "+l(c.value[2].quantity),1)])])]),e("div",ce,[s[22]||(s[22]=e("div",{class:"font-medium mb-3"},"Purchase Lifelines",-1)),e("div",ve,[s[16]||(s[16]=e("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"lifeline-type"}," Select Lifeline ",-1)),b(e("select",{id:"lifeline-type","onUpdate:modelValue":s[2]||(s[2]=a=>o.value=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"},s[15]||(s[15]=[e("option",{value:""},"Select a lifeline to purchase",-1),e("option",{value:"1"},"50:50 Lifeline (₹ 29)",-1),e("option",{value:"2"},"Skip Lifeline (₹ 49)",-1),e("option",{value:"3"},"Revive Game (₹ 99)",-1)]),512),[[M,o.value]])]),e("div",pe,[s[17]||(s[17]=e("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"quantity"}," Quantity ",-1)),b(e("input",{type:"number",id:"quantity","onUpdate:modelValue":s[3]||(s[3]=a=>i.value=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",min:"1",max:"10",placeholder:"How many do you want to purchase?"},null,512),[[T,i.value]])]),o.value&&i.value>0?(u(),v("div",xe,[e("div",ge,[s[18]||(s[18]=e("span",null,"Price per lifeline:",-1)),e("span",null,"₹ "+l(t.getLifelinePrice(o.value)),1)]),e("div",be,[s[19]||(s[19]=e("span",null,"Quantity:",-1)),e("span",null,"× "+l(i.value),1)]),s[20]||(s[20]=e("div",{class:"border-t border-gray-300 my-2"},null,-1))])):p("",!0),t.errorMessage?(u(),v("div",ye,[y(l(t.errorMessage)+" ",1),t.insufficientFunds?(u(),B(S,{key:0,to:"/add-fund",class:"text-blue-600 underline ml-1"},{default:P(()=>s[21]||(s[21]=[y(" Add funds to continue ")])),_:1})):p("",!0)])):p("",!0),e("button",{class:"bg-orange-500 text-white py-2 px-6 rounded-lg font-medium w-full",onClick:h}," PURCHASE ")])])])}}};export{Ce as default};
